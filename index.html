<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>âœ¨ ãƒ¡ãƒ³ã‚ºç¾å®¹è¨ºæ–­</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

    <style>
        /* ================================================= */
        /* == style.css ã®å†…å®¹ == */
        /* ================================================= */
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700&display=swap');

        :root {
            --primary-color: #4CAF50; /* ç·‘ç³» */
            --secondary-color: #8BC34A; /* æ˜ã‚‹ã„ç·‘ */
            --accent-color: #FFC107; /* ã‚¢ã‚¯ã‚»ãƒ³ãƒˆã®é»„è‰² */
            --background-light: #F8F9FA;
            --card-background: #FFFFFF;
            --text-dark: #212529;
            --text-light: #6C757D;
            --border-light: #DEE2E6;
            --shadow-soft: rgba(0, 0, 0, 0.1);
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Noto Sans JP', sans-serif;
            background-color: var(--background-light);
            color: var(--text-dark);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            background-color: var(--card-background);
            border-radius: 15px;
            box-shadow: 0 10px 30px var(--shadow-soft);
            padding: 40px;
            max-width: 600px;
            width: 100%;
            text-align: center;
        }

        /* --- ãƒ˜ãƒƒãƒ€ãƒ¼ --- */
        .header h1 {
            font-size: 2.2em;
            color: var(--primary-color);
            margin-bottom: 10px;
            font-weight: 700;
        }

        .header p {
            margin-bottom: 30px;
            color: var(--text-light);
        }

        /* --- å„ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ (è¨ºæ–­é–‹å§‹ã€è³ªå•ã€çµæœ) --- */
        .screen {
            opacity: 1;
            transition: opacity 0.5s ease-in-out;
        }

        .screen.hidden {
            display: none;
            opacity: 0;
        }

        /* --- ãƒœã‚¿ãƒ³å…±é€šã‚¹ã‚¿ã‚¤ãƒ« --- */
        button {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            font-size: 1.1em;
            font-weight: 700;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.1s, box-shadow 0.3s;
            margin-top: 20px;
        }

        button:hover {
            background-color: var(--secondary-color);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        button:active {
            transform: translateY(0);
            box-shadow: none;
        }

        /* --- è³ªå•ç”»é¢ --- */
        .question-container {
            background-color: var(--background-light);
            border: 1px solid var(--border-light);
            border-radius: 10px;
            padding: 30px;
            margin-bottom: 20px;
        }

        .question-number {
            font-size: 1em;
            color: var(--primary-color);
            font-weight: 700;
            margin-bottom: 10px;
        }

        .question-text {
            font-size: 1.5em;
            margin-bottom: 25px;
            color: var(--text-dark);
        }

        .options-container {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        /* é¸æŠè‚¢ã®ãƒœã‚¿ãƒ³ */
        .option-btn {
            background-color: var(--card-background);
            color: var(--text-dark);
            border: 1px solid var(--border-light);
            padding: 15px;
            border-radius: 8px;
            font-size: 1em;
            cursor: pointer;
            transition: all 0.2s;
            text-align: left;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .option-btn:hover {
            background-color: #E9ECEF;
            border-color: var(--primary-color);
        }

        .option-btn.selected {
            background-color: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.15);
        }

        /* --- çµæœç”»é¢ --- */
        .result-title {
            font-size: 2em;
            color: var(--primary-color);
            margin-bottom: 30px;
            font-weight: 700;
        }

        .recommendation-card {
            background-color: #E8F5E9; /* æ˜ã‚‹ã„ç·‘èƒŒæ™¯ */
            border: 1px solid var(--primary-color);
            border-radius: 15px;
            padding: 30px;
            text-align: left;
            margin-bottom: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        #product-name {
            font-size: 1.8em;
            color: var(--primary-color);
            margin-bottom: 15px;
            font-weight: 700;
        }

        #product-description {
            font-size: 1.1em;
            color: var(--text-dark);
            line-height: 1.6;
            margin-bottom: 20px;
        }

        .product-link {
            display: inline-block;
            background-color: var(--accent-color);
            color: var(--text-dark);
            padding: 10px 20px;
            border-radius: 8px;
            text-decoration: none;
            font-weight: 700;
            transition: background-color 0.3s;
        }

        .product-link:hover {
            background-color: #FFD54F;
        }

        /* --- ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£/ã‚¨ãƒ©ãƒ¼ --- */
        .hidden {
            display: none;
        }

        .error-message {
            color: #DC3545; /* èµ¤ */
            margin-top: 20px;
            font-weight: 700;
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="header">
            <h1>ğŸ‘¨â€ğŸ¦± ãƒ¡ãƒ³ã‚ºç¾å®¹è¨ºæ–­</h1>
            <p>ç°¡å˜ãª5ã¤ã®è³ªå•ã«ç­”ãˆã¦ã€ã‚ãªãŸã«ã´ã£ãŸã‚Šã®ã‚¹ã‚­ãƒ³ã‚±ã‚¢ã‚’è¦‹ã¤ã‘ã¾ã—ã‚‡ã†ã€‚</p>
        </header>

        <div id="start-screen" class="screen">
            <button id="start-btn">è¨ºæ–­ã‚’å§‹ã‚ã‚‹</button>
        </div>

        <div id="quiz-screen" class="screen hidden">
            <div class="question-container">
                <p class="question-number" id="question-number"></p>
                <h2 class="question-text" id="question-text"></h2>
                <div class="options-container" id="options-container">
                </div>
            </div>
            <button id="next-btn" class="hidden">æ¬¡ã¸</button>
        </div>

        <div id="result-screen" class="screen hidden">
            <h2 class="result-title">âœ¨ ã‚ãªãŸã«ãŠã™ã™ã‚ã®ã‚¹ã‚­ãƒ³ã‚±ã‚¢</h2>
            <div class="recommendation-card" id="recommendation-card">
                <h3 id="product-name"></h3>
                <p id="product-description"></p>
                <a href="#" id="product-link" target="_blank" class="product-link hidden">å•†å“ã‚’è¦‹ã‚‹</a>
            </div>
            <button id="restart-btn">ã‚‚ã†ä¸€åº¦è¨ºæ–­ã™ã‚‹</button>
        </div>

        <p class="error-message" id="error-message" aria-live="polite"></p>
    </div>

    <script>
        // =================================================
        // == script.js ã®å†…å®¹ (å‹•ä½œä¿®æ­£æ¸ˆã¿) ==
        // =================================================

        // --- è¨ºæ–­ã®è³ªå•ã¨é¸æŠè‚¢ ---
        const questions = [
            {
                id: 1,
                question: "ã‚ãªãŸã®è‚Œè³ªã¯ã©ã‚“ãªã‚¿ã‚¤ãƒ—ã§ã™ã‹ï¼Ÿ",
                options: [
                    { text: "Tã‚¾ãƒ¼ãƒ³ã¯ãƒ†ã‚«ã‚‹ã‘ã©ã€å£å…ƒã¯ä¹¾ç‡¥ã—ã‚„ã™ã„ï¼ˆæ··åˆè‚Œï¼‰", score: { moisture: 3, oiliness: 4, sensitivity: 2 } },
                    { text: "æ´—é¡”å¾Œã¤ã£ã±ã‚‹ã“ã¨ãŒå¤šãã€ã‚«ã‚µã¤ãã‚„ã™ã„ï¼ˆä¹¾ç‡¥è‚Œï¼‰", score: { moisture: 5, oiliness: 1, sensitivity: 3 } },
                    { text: "å…¨ä½“çš„ã«ãƒ™ã‚¿ã¤ãã‚„ã™ãã€ãƒ‹ã‚­ãƒ“ãŒã§ãã‚„ã™ã„ï¼ˆè„‚æ€§è‚Œï¼‰", score: { moisture: 1, oiliness: 5, sensitivity: 2 } },
                    { text: "ç‰¹ã«å•é¡Œã¯ãªãã€æ¯”è¼ƒçš„å®‰å®šã—ã¦ã„ã‚‹ï¼ˆæ™®é€šè‚Œï¼‰", score: { moisture: 2, oiliness: 2, sensitivity: 1 } },
                ]
            },
            {
                id: 2,
                question: "è‚Œã®æ‚©ã¿ã§æœ€ã‚‚æ°—ã«ãªã‚‹ã“ã¨ã¯ä½•ã§ã™ã‹ï¼Ÿ",
                options: [
                    { text: "ä¹¾ç‡¥ã€è‚Œè’ã‚Œ", score: { moisture: 5, sensitivity: 4 } },
                    { text: "ãƒ†ã‚«ãƒªã€æ¯›ç©´ã®ç›®ç«‹ã¡", score: { oiliness: 5, pore: 4 } },
                    { text: "ãƒ‹ã‚­ãƒ“ã€è‚Œã®èµ¤ã¿", score: { sensitivity: 5, acne: 4 } },
                    { text: "ãƒãƒªã®ãªã•ã€ã‚¨ã‚¤ã‚¸ãƒ³ã‚°ã‚µã‚¤ãƒ³", score: { anti_aging: 5 } },
                ]
            },
            {
                id: 3,
                question: "æ™®æ®µã®æ´—é¡”å¾Œã€è‚Œã¯ã©ã®ã‚ˆã†ãªçŠ¶æ…‹ã«ãªã‚Šã¾ã™ã‹ï¼Ÿ",
                options: [
                    { text: "ã¤ã£ã±ã‚‹æ„Ÿã˜ãŒå¼·ãã€ã™ãã«ä¿æ¹¿ã—ãŸããªã‚‹", score: { moisture: 5 } },
                    { text: "å°‘ã—ã¤ã£ã±ã‚‹ãŒã€ã™ãã«æ°—ã«ãªã‚‰ãªããªã‚‹", score: { moisture: 3 } },
                    { text: "ç‰¹ã«å¤‰åŒ–ã¯ãªãã€ã•ã£ã±ã‚Šã—ã¦ã„ã‚‹", score: { moisture: 1, oiliness: 1 } },
                    { text: "ãƒ™ã‚¿ã¤ããŒæ®‹ã‚‹æ„Ÿã˜ãŒã™ã‚‹", score: { oiliness: 3 } },
                ]
            },
            {
                id: 4,
                question: "ã‚¹ã‚­ãƒ³ã‚±ã‚¢ã«ã‹ã‘ã‚‹æ™‚é–“ã‚„æ‰‹é–“ã«ã¤ã„ã¦ã©ã†æ€ã„ã¾ã™ã‹ï¼Ÿ",
                options: [
                    { text: "æ™‚é–“ã‚’ã‹ã‘ã¦ã—ã£ã‹ã‚Šã‚±ã‚¢ã—ãŸã„", score: { routine: 5 } },
                    { text: "åŸºæœ¬çš„ãªã‚±ã‚¢ã¯ã—ãŸã„ãŒã€æ‰‹é–“ã¯ã‹ã‘ãŸããªã„", score: { routine: 3 } },
                    { text: "ã¨ã«ã‹ãæ‰‹è»½ã«æ¸ˆã¾ã›ãŸã„", score: { routine: 1 } },
                ]
            },
            {
                id: 5,
                question: "æ™®æ®µã€ç´«å¤–ç·šã‚’æµ´ã³ã‚‹æ©Ÿä¼šã¯å¤šã„ã§ã™ã‹ï¼Ÿ",
                options: [
                    { text: "æ¯æ—¥é•·æ™‚é–“æµ´ã³ã‚‹ï¼ˆå±‹å¤–ã§ã®æ´»å‹•ãŒå¤šã„ï¼‰", score: { uv_care: 5, anti_aging: 3 } },
                    { text: "ãŸã¾ã«æµ´ã³ã‚‹ï¼ˆé€šå‹¤ãƒ»é€šå­¦ç¨‹åº¦ï¼‰", score: { uv_care: 3 } },
                    { text: "ã»ã¨ã‚“ã©æµ´ã³ãªã„ï¼ˆå®¤å†…ã§ã®æ´»å‹•ãŒã»ã¨ã‚“ã©ï¼‰", score: { uv_care: 1 } },
                ]
            }
        ];

        // --- ã‚¹ã‚­ãƒ³ã‚±ã‚¢å•†å“ã®æ¨å¥¨ãƒ‡ãƒ¼ã‚¿ ---
        const recommendations = [
            {
                id: "dry_sensitive",
                name: "é«˜ä¿æ¹¿ãƒãƒªã‚¢å¼·åŒ–ã‚»ãƒƒãƒˆ",
                description: "ä¹¾ç‡¥ãŒç‰¹ã«æ°—ã«ãªã‚‹æ–¹ã‚„æ•æ„Ÿè‚Œã®æ–¹ã«ã€‚ã‚»ãƒ©ãƒŸãƒ‰é…åˆã§è‚Œã®ãƒãƒªã‚¢æ©Ÿèƒ½ã‚’é«˜ã‚ã€æ½¤ã„ã‚’ã—ã£ã‹ã‚Šé–‰ã˜è¾¼ã‚ã¾ã™ã€‚",
                link: "https://example.com/dry_sensitive"
            },
            {
                id: "oily_acne",
                name: "ãƒ†ã‚«ãƒªãƒ»ãƒ‹ã‚­ãƒ“å¯¾ç­–ã‚¯ãƒªã‚¢ã‚¸ã‚§ãƒ«",
                description: "çš®è„‚ã®éå‰°åˆ†æ³Œã‚’æŠ‘ãˆã€ãƒ‹ã‚­ãƒ“ã‚„æ¯›ç©´ã®ç›®ç«‹ã¡ã‚’ã‚±ã‚¢ã€‚ã•ã£ã±ã‚Šã¨ã—ãŸä½¿ç”¨æ„Ÿã§è‚Œã‚’æ¸…æ½”ã«ä¿ã¡ã¾ã™ã€‚",
                link: "https://example.com/oily_acne"
            },
            {
                id: "aging_care",
                name: "ãƒãƒªãƒ»ã‚¨ã‚¤ã‚¸ãƒ³ã‚°ã‚±ã‚¢é›†ä¸­ç¾å®¹æ¶²",
                description: "è‚Œã®ãƒãƒªä¸è¶³ã‚„å°ã˜ã‚ãŒæ°—ã«ãªã‚‹æ–¹ã«ã€‚ãƒ¬ãƒãƒãƒ¼ãƒ«èª˜å°ä½“ã‚„ãƒ“ã‚¿ãƒŸãƒ³Cèª˜å°ä½“ã§è‹¥ã€…ã—ã„å°è±¡ã®è‚Œã¸å°ãã¾ã™ã€‚",
                link: "https://example.com/aging_care"
            },
            {
                id: "basic_all_in_one",
                name: "ã‚·ãƒ³ãƒ—ãƒ«ã‚ªãƒ¼ãƒ«ã‚¤ãƒ³ãƒ¯ãƒ³ã‚¸ã‚§ãƒ«",
                description: "æ‰‹è»½ã«åŸºæœ¬çš„ãªã‚¹ã‚­ãƒ³ã‚±ã‚¢ã‚’æ¸ˆã¾ã›ãŸã„æ–¹ã«ã€‚åŒ–ç²§æ°´ãƒ»ä¹³æ¶²ãƒ»ç¾å®¹æ¶²ã®å½¹å‰²ã‚’ã“ã‚Œä¸€æœ¬ã§ã‚«ãƒãƒ¼ã—ã¾ã™ã€‚",
                link: "https://example.com/basic_all_in_one"
            },
            {
                id: "normal_balance",
                name: "ãƒãƒ©ãƒ³ã‚¹ã‚±ã‚¢ãƒ­ãƒ¼ã‚·ãƒ§ãƒ³",
                description: "è‚Œã®ãƒãƒ©ãƒ³ã‚¹ã‚’æ•´ãˆã€å¥åº·çš„ãªçŠ¶æ…‹ã‚’ç¶­æŒã—ãŸã„æ–¹ã«ã€‚æ—¥ã€…ã®è‚Œã‚±ã‚¢ã«æœ€é©ãªã€æ±ç”¨æ€§ã®é«˜ã„ãƒ­ãƒ¼ã‚·ãƒ§ãƒ³ã§ã™ã€‚",
                link: "https://example.com/normal_balance"
            }
        ];


        // --- DOMè¦ç´ ã®å–å¾— ---
        const startScreen = document.getElementById('start-screen');
        const quizScreen = document.getElementById('quiz-screen');
        const resultScreen = document.getElementById('result-screen');

        const startButton = document.getElementById('start-btn');
        const questionNumberElement = document.getElementById('question-number');
        const questionTextElement = document.getElementById('question-text');
        const optionsContainer = document.getElementById('options-container');
        const nextButton = document.getElementById('next-btn');
        const restartButton = document.getElementById('restart-btn');

        const productNameElement = document.getElementById('product-name');
        const productDescriptionElement = document.getElementById('product-description');
        const productLinkElement = document.getElementById('product-link');
        const errorMessageElement = document.getElementById('error-message');


        let currentQuestionIndex = 0;
        let userScores = {
            moisture: 0, oiliness: 0, sensitivity: 0, pore: 0, acne: 0, anti_aging: 0, uv_care: 0, routine: 0
        };
        let selectedOption = null; 


        // --- è¨ºæ–­é–‹å§‹ãƒ­ã‚¸ãƒƒã‚¯ ---
        function startQuiz() {
            startScreen.classList.add('hidden');
            quizScreen.classList.remove('hidden');
            currentQuestionIndex = 0;
            resetScores();
            loadQuestion();
        }

        // --- ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼è¨­å®š ---
        // DOMContentLoadedã‚’å¾…ã¤ã“ã¨ã§ã€startButtonãŒç¢ºå®Ÿã«å­˜åœ¨ã—ã¦ã‹ã‚‰ã‚¤ãƒ™ãƒ³ãƒˆã‚’è¨­å®šã—ã¾ã™ã€‚
        document.addEventListener('DOMContentLoaded', () => {
            // åˆæœŸè¡¨ç¤º
            startScreen.classList.remove('hidden');
            quizScreen.classList.add('hidden');
            resultScreen.classList.add('hidden');
            
            // ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼ã®è¿½åŠ 
            startButton.addEventListener('click', startQuiz);

            nextButton.addEventListener('click', () => {
                if (selectedOption === null) {
                    errorMessageElement.textContent = 'é¸æŠè‚¢ã‚’é¸ã‚“ã§ãã ã•ã„ã€‚';
                    return;
                }
                errorMessageElement.textContent = ''; 

                // ã‚¹ã‚³ã‚¢ã‚’åŠ ç®—
                for (const key in selectedOption.score) {
                    if (userScores.hasOwnProperty(key)) {
                        userScores[key] += selectedOption.score[key];
                    }
                }

                currentQuestionIndex++;
                if (currentQuestionIndex < questions.length) {
                    loadQuestion();
                } else {
                    displayResult();
                }
            });

            restartButton.addEventListener('click', () => {
                resultScreen.classList.add('hidden');
                startScreen.classList.remove('hidden');
                currentQuestionIndex = 0;
                resetScores();
                selectedOption = null;
                nextButton.classList.add('hidden'); 
            });
        });


        /**
         * ã‚¹ã‚³ã‚¢ã‚’ãƒªã‚»ãƒƒãƒˆã™ã‚‹é–¢æ•°
         */
        function resetScores() {
            for (const key in userScores) {
                userScores[key] = 0;
            }
        }


        /**
         * è³ªå•ã‚’ãƒ­ãƒ¼ãƒ‰ã—ã¦è¡¨ç¤ºã™ã‚‹é–¢æ•°
         */
        function loadQuestion() {
            const questionData = questions[currentQuestionIndex];
            questionNumberElement.textContent = `è³ªå• ${currentQuestionIndex + 1} / ${questions.length}`;
            questionTextElement.textContent = questionData.question;
            optionsContainer.innerHTML = ''; 

            selectedOption = null; 
            nextButton.classList.add('hidden'); 

            questionData.options.forEach(option => {
                const button = document.createElement('button');
                button.classList.add('option-btn');
                button.textContent = option.text;
                button.addEventListener('click', () => {
                    selectOption(button, option);
                });
                optionsContainer.appendChild(button);
            });
        }

        /**
         * é¸æŠè‚¢ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸæ™‚ã®å‡¦ç†
         */
        function selectOption(clickedButton, optionData) {
            document.querySelectorAll('.option-btn').forEach(btn => {
                btn.classList.remove('selected');
            });

            clickedButton.classList.add('selected');
            selectedOption = optionData; 

            // ã€Œæ¬¡ã¸ã€ãƒœã‚¿ãƒ³ã‚’è¡¨ç¤º
            nextButton.classList.remove('hidden');
        }


        /**
         * çµæœã‚’è¡¨ç¤ºã™ã‚‹é–¢æ•°
         */
        function displayResult() {
            quizScreen.classList.add('hidden');
            resultScreen.classList.remove('hidden');

            let recommendedProduct = recommendations[4]; // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯"normal_balance"

            // ã‚¹ã‚³ã‚¢ã«åŸºã¥ã„ã¦æœ€é©ãªå•†å“ã‚’åˆ¤å®š
            if (userScores.moisture >= 7 && userScores.oiliness <= 3) {
                recommendedProduct = recommendations[0]; // dry_sensitive
            } else if (userScores.oiliness >= 7 && userScores.moisture <= 3) {
                recommendedProduct = recommendations[1]; // oily_acne
            } else if (userScores.anti_aging >= 5) {
                recommendedProduct = recommendations[2]; // aging_care
            } else if (userScores.routine <= 2) {
                recommendedProduct = recommendations[3]; // basic_all_in_one
            } else {
                recommendedProduct = recommendations[4]; // normal_balance
            }


            productNameElement.textContent = recommendedProduct.name;
            productDescriptionElement.textContent = recommendedProduct.description;
            productLinkElement.href = recommendedProduct.link;
            productLinkElement.classList.remove('hidden'); 
        }

        // ãƒšãƒ¼ã‚¸ãƒ­ãƒ¼ãƒ‰æ™‚ã®åˆæœŸè¨­å®šã¯ã€ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼ãƒ–ãƒ­ãƒƒã‚¯å†…ã§å‡¦ç†æ¸ˆã¿
    </script>
</body>
</html>